/* Large chunk copied from theme. */
.author-description .author-link,
.comment-metadata,
.comment-reply-link,
.comments-title,
.comment-author .fn,
.discussion-meta-info,
.entry-meta,
.entry-footer,
.main-navigation,
.no-comments,
.not-found .page-title,
.error-404 .page-title,
.post-navigation .post-title,
.page-links,
.page-description,
.pagination .nav-links,
.sticky-post,
.site-title,
.site-info,
#cancel-comment-reply-link {
    font-family: inherit;
}

.archive .page-header .page-description,
.archive .page-header .page-title {
    display: inline-block;
}

.archive .page-header,
.search .page-header,
.error404 .page-header {
    margin-bottom: 0;
}

/* Override main color */

.site-header.featured-image .site-featured-image::before,
.site-header.featured-image .site-featured-image::after,
.entry .post-thumbnail::after,
.main-navigation .sub-menu,
.sticky-post,
.entry .entry-title::before {
    background-color: var(--color-brandRed);
}

a,
a:hover,
a:active,
a:visited,
#colophon .site-info a:hover,
.main-navigation .main-menu > li > a:hover,
.main-navigation .main-menu > li > a:hover + svg,
.post-navigation .nav-links a:hover,
.post-navigation .nav-links a:hover .post-title,
.author-bio .author-description .author-link:hover,
.entry .entry-content > .has-secondary-color,
.entry .entry-content > [class^="wp-block-"] .has-secondary-color,
.entry .entry-content > [class^="wp-block-"].is-style-solid-color blockquote.has-secondary-color,
.entry .entry-content > [class^="wp-block-"].is-style-solid-color blockquote.has-secondary-color p,
.entry .entry-footer a:hover,
.comment .comment-author .fn a:hover,
.comment-reply-link:hover,
.comment-navigation .nav-previous a:hover,
.comment-navigation .nav-next a:hover,
#cancel-comment-reply-link:hover,
.widget a:hover {
    color: var(--color-brandRed);
}

h1 a,
h1 a:hover,
h1 a:active,
h1 a:visited,
h2 a,
h2 a:hover,
h2 a:active,
h2 a:visited,
h3 a,
h3 a:hover,
h3 a:active,
h3 a:visited {
    color: var(--color-brandBlack);
}

h1.is-style-c4aa-clipPath-heading a,
h1.is-style-c4aa-clipPath-heading a:hover,
h1.is-style-c4aa-clipPath-heading a:active,
h1.is-style-c4aa-clipPath-heading a:visited,
h2.is-style-c4aa-clipPath-heading a,
h2.is-style-c4aa-clipPath-heading a:hover,
h2.is-style-c4aa-clipPath-heading a:active,
h2.is-style-c4aa-clipPath-heading a:visited,
h3.is-style-c4aa-clipPath-heading a,
h3.is-style-c4aa-clipPath-heading a:hover,
h3.is-style-c4aa-clipPath-heading a:active,
h3.is-style-c4aa-clipPath-heading a:visited {
    color: var(--color-brandWhite);
}

.featured-image .site-branding-container {
    padding: 2rem 1rem;
}

.site-footer .widget-title {
    color: var(--color-brandWhite);
}

/* Headers */

.site-header.featured-image .entry-title {
    color: var(--color-brandWhite);
    margin-left: 0.5em;
    margin-right: 0.5em;
    font-size: 2rem; // fallback
    // @see https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport/
    font-size: clamp(1.5rem, calc(-0.2647rem + 7.8431vw), 3.5rem);
}

h1:before,
h2:before,
.entry .entry-title:before {
    content: none;
}

/* prevent words from breaking in columns */
.wp-block-column h4 {
    word-break: normal;
}

/* Remove H1 from home */

body.home .entry-header {
    position: absolute;
    left: -10000px;
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* Featured Image */

.site-header.featured-image {
    margin-bottom: 0;
    text-shadow: initial;
    padding-top: 0;
}

.site-header.featured-image .site-featured-image .entry-header .entry-title::before {
    height: 0;
}

.site-header.featured-image {
    min-height: 80vh;
    padding: 0;
}

.featured-image .site-description {
    color: var(--color-brandWhite);
}

// HOME PAGE

.entry .entry-content .home-panel-set {

    & a {
        font-weight: 700;
    }

    & a:hover {
        font-weight: 700;
    }

    & a:active {
        font-weight: 700;
    }
}

// Remove margins from homepage video block
.home .entry-content .wp-block-cover:first-child {
    margin-top: 0;
    margin-bottom: 0;
}

/* Image Filter Setup */

.site-header.featured-image .site-featured-image .entry-header {
    position: relative;
    z-index: 9;
    font-size: calc(1.5vw + 20px);
    text-transform: uppercase;
    text-align: center;
}

.site-header.featured-image .site-branding-container::after,
.site-header.featured-image .site-featured-image::before,
.site-header.featured-image .site-featured-image::after,
.site-header.featured-image::after {
    all: unset;
}

.site-header.featured-image .site-branding .site-title,
.site-header.featured-image .main-navigation a::after,
.site-header.featured-image .main-navigation .main-menu > li.menu-item-has-children::after,
.site-header.featured-image .main-navigation li,
.site-header.featured-image .social-navigation li {
    color: var(--color-brandRed);
}

/* squares circular logo in header */
.site-logo .custom-logo-link {
    border-radius: 0;
}

/* de-hyphenate large pullquotes and header */
.wp-block-pullquote.alignwide *,
.wp-block-pullquote.alignfull *,
header h1.entry-title {
    -ms-hyphens: manual;
    hyphens: manual;
    -webkit-hyphens: none;
}

/* remove background from logo in header */
.site-header.featured-image .custom-logo-link {
    background: none;
}

/* remove margin under featured image (so we can put the first block right under) */
.site-header.featured-image {
    margin-bottom: 0;
}

/* Post Meta Data */
.site-header.featured-image .site-featured-image .entry-header {
    margin-left: 0;
    margin-right: 0;
}

.site-header.featured-image {
    padding-bottom: 0;
}

.site-header.featured-image .entry-title {
    padding-bottom: 3rem;
}

.site-header.featured-image .entry-meta {
    background-color: var(--duotone-foreground);
    color: var(--color-brandBeige);
    font-size: 0.75rem;
    font-weight: 500;
    margin-top: auto;
    padding: 0.75rem;
    width: 100%;
}

.entry .entry-footer {
    color: var(--color-brandBlack);
}

/* Removes icons from entry-meta - keeping them for now */
/* .site-header.featured-image .site-featured-image .entry-header .entry-meta .svg-icon {
	display: none;
}*/



/* Remove top and bottom margins on alignfull */
.entry .entry-content .alignfull {
    margin-top: 0;
    margin-bottom: 0;
}


/* Accordion Buttons */

.c-accordion__title--button {
    font-style: italic;
    text-decoration: underline;
}

.c-accordion__title--button::after {
    content: "▼";
    color: var(--color-brandRed);
    right: auto;
    margin-left: 1em;
}

.c-accordion__title::after {
    font-weight: 600 !important;
    padding: 0 0.1em 0.1em 0.25em;
    color: var(--color-brandWhite) !important;
    background: var(--color-brandRed) !important;
}

.is-open .c-accordion__title::after {
    content: "▲";
}


/*****************/
// ? Updates: October 19, 2023
/*****************/

.main-navigation {
    margin-top: 0; // reset from parent theme
    margin-left: 2rem;
    @media only screen and(max-width: 768px) {
        margin-left: 0;
        padding-bottom: 2rem;
    }
}

#menu-2019menu {
    .main-menu {
        @media only screen and(max-width: 768px) {
            width: 100%;
        }
    }
    li.menu-item {
        padding-left: 0;
        padding-right: 0;
        @media only screen and(max-width: 768px) {
            width: 100%;
            display: block;
            padding: 0;
        }
        a {
            // @extend .is-style-c4aa-clipPath-heading;
            padding: 0.2rem 0.5rem;
            font-weight: 700;
            margin: 0;
            background-color: var(--color-brandRed);
            color: var(--color-brandWhite);
            // clip-path: polygon(calc(var(--topLeftX) * 1px) calc(var(--topLeftY) * 1px), calc(100% - var(--topRightX) * 1px) calc(var(--topRightY) * 1px), calc(100% - var(--bottomRightX) * 1px) calc(100% - var(--bottomRightY) * 1px), calc(var(--bottomLeftX) * 1px) calc(100% - var(--bottomLeftY) * 1px));
            clip-path: polygon(0 4%, 100% 0, 100% 100%, 0 94%);
            @media only screen and(max-width: 768px) {
                clip-path: none;
                background-color: var(--color-brandBlack);
                display: block;
                width: 100%;
            }
        }
        a:hover {
            background-color: var(--color-brandBlack);
        }

        &:nth-child(odd) a {
            clip-path: polygon(0 0, 100% 4%, 100% 96%, 0 100%);
            @media only screen and(max-width: 768px) {
                clip-path: none
            }
        }
        &:nth-child(3) a {
            clip-path: polygon(0 5%, 100% 0%, 100% 100%, 0 100%);
            @media only screen and(max-width: 768px) {
                clip-path: none
            }
        }
    }
    .sub-menu {
        display: none;
        // background-color: white;
        left: 0;
        li {
            a {
                text-transform: capitalize;
                font-weight: normal;
                font-size: 0.9rem;
            }
        }
        @media only screen and(max-width: 768px) {
            display: block;
            visibility: visible;
            opacity: 1;
            position: relative;
            background-color: var(--color-brandBlack);
        }
    }
    .menu-item-has-children {
        li {
            opacity: 0;

            // Show the submenu by default on mobile:
            @media only screen and(max-width: 768px) {
                visibility: visible;
                opacity: 1;
                font-size: 0.9rem;
                text-transform: capitalize;

            }
        }
        @media only screen and(max-width: 768px) {
            display: block;
            position: relative;
        }
    }
    .menu-item-has-children:hover {
        a {
            background-color: var(--color-brandBlack);
            color: var(--color-brandWhite);
        }
        .sub-menu {
            display: block;
            background-color: var(--color-brandBlack);
            width: 100%;
            // left: 0;
            @media only screen and(max-width: 768px) {
                width: auto;
                min-width: 0;
                position: relative;
                visibility: visible;
                opacity: 1;
            }
            li {
                visibility: visible;
                opacity: 1;
                a {
                    max-width: 100%;
                    display: block;
                    text-transform: capitalize;
                    color: var(--color-brandWhite);
                }
            }
        }
    }
}

// Caret arrow next to expandable links:
#menu-2019menu .submenu-expand {
    display: none;
    transform: translateY(4px) rotate(180deg);
    box-shadow: none;
}


// Hide the logo icon on mobile:
@media only screen and(max-width: 768px) {
    .site-logo {
        display: none;
    }
}

// ? START Hamburger icon
.menu-toggle {
    display: none; /* Hide the hamburger icon by default on larger screens */
    cursor: pointer;
}
.bar {
    display: block;
    width: 30px;
    height: 5px;
    background-color: var(--color-brandRed);
    margin: 4px 0;
    transition: 0.4s;
}
.menu-toggle .bar:nth-child(1) {
    transform: rotate(1.5deg);
}
.menu-toggle.active .bar:nth-child(1) {
    transform: rotate(-45deg) translate(-5px, 8px);
}
.menu-toggle .bar:nth-child(2) {
    transform: rotate(-1.5deg);
}
.menu-toggle.active .bar:nth-child(2) {
    opacity: 0;
}
.menu-toggle .bar:nth-child(1) {
    transform: rotate(1.5deg);
}
.menu-toggle.active .bar:nth-child(3) {
    transform: rotate(45deg) translate(-5px, -8px);
}

@media screen and(max-width: 768px) {
    .menu-toggle {
        display: block; /* Show the hamburger icon on smaller screens */
    }

    #site-navigation {
        display: none; /* Hide the main navigation menu by default on smaller screens */
    }

    .social-navigation {
        display: none; /* Hide the social navigation menu by default on smaller screens */
    }

    .menu-toggle.active + .main-navigation {
        display: block; /* Show the main navigation menu when the icon is clicked */
    }
}
.mobile-header {
    // margin: 0 -1rem; // Undo the padding on the parent element so we can add a background colour.
    padding: 1rem;
    display: flex;
    align-items: center;
    &.active {
        background-color: #222;
    }
}
// ? End Hamburger icon

.logo-c4aa-mobile {
    display: none;
}
@media screen and(max-width: 768px) {
    .logo-c4aa-mobile {
        width: 85%;
    }
    .logo-c4aa-mobile.logo-c4aa-mobile--red {
        display: none;
        &.active {
            display: block;
        }
    }
    .logo-c4aa-mobile.logo-c4aa-mobile--white {
        display: none;
        &.active {
            mix-blend-mode: screen;
            display: block;
        }
    }
}

#masthead.site-header {
    @media screen and(max-width: 768px) {
        padding: 0;
    }
}
#masthead .site-branding-container {
    @media screen and(max-width: 768px) {
        padding: 0;
    }
}
.site-header.active,
.site-header.active .site-branding-container {
    @media screen and(max-width: 768px) {
        background-color: var(--color-brandBlack) !important;
    }
}

// Jetpack Carousel/Lightbox

.jp-carousel-light.jp-carousel-overlay {
    background: var(--color-brandWhite);
}

.wp-lightbox-overlay .scrim {
    background-color: var(--color-brandWhite);
}

.wp-lightbox-overlay .close-button:focus, .wp-lightbox-overlay .close-button:hover, .wp-lightbox-overlay .close-button:not(:hover):not(:active):not(.has-background) {
    background: var(--color-brandBlack);
}

// Simple Banner fixes

.simple-banner-text a:link {
    text-decoration: underline !important;
}
.simple-banner-text a:visited {
    text-decoration: underline !important;
}
.simple-banner-text a:hover {
    text-decoration: none !important;
}
